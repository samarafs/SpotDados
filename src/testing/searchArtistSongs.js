

const history =[
      {
        "_id": {
          "$oid": "65b030724146088749471e9e"
        },
        "ts": "2023-12-18T22:26:46Z",
        "ms_played": 184573,
        "master_metadata_track_name": "Parabol",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Lateralus",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471e9f"
        },
        "ts": "2023-12-18T22:33:30Z",
        "ms_played": 403533,
        "master_metadata_track_name": "Schism",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Lateralus",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ea0"
        },
        "ts": "2023-12-18T22:39:34Z",
        "ms_played": 363680,
        "master_metadata_track_name": "Parabola",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Lateralus",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ea1"
        },
        "ts": "2023-12-18T22:48:00Z",
        "ms_played": 505146,
        "master_metadata_track_name": "Eulogy",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Ænima",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ea2"
        },
        "ts": "2023-12-18T22:57:23Z",
        "ms_played": 562706,
        "master_metadata_track_name": "Lateralus",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Lateralus",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ea3"
        },
        "ts": "2023-12-18T23:02:31Z",
        "ms_played": 306853,
        "master_metadata_track_name": "Sober",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Undertow",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ea4"
        },
        "ts": "2023-12-18T23:15:10Z",
        "ms_played": 159178,
        "master_metadata_track_name": "Part Of Me",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Opiate",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "logout",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ea5"
        },
        "ts": "2023-12-18T23:36:21Z",
        "ms_played": 197067,
        "master_metadata_track_name": "Part Of Me",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Opiate",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "appload",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ea6"
        },
        "ts": "2023-12-18T23:47:33Z",
        "ms_played": 70948,
        "master_metadata_track_name": "Rosetta Stoned",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "10,000 Days",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "logout",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ea7"
        },
        "ts": "2023-12-19T19:26:42Z",
        "ms_played": 65900,
        "master_metadata_track_name": "Rosetta Stoned",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "10,000 Days",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "appload",
        "reason_end": "remote",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ea8"
        },
        "ts": "2023-12-19T19:26:46Z",
        "ms_played": 4197,
        "master_metadata_track_name": "Rosetta Stoned",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "10,000 Days",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "appload",
        "reason_end": "fwdbtn",
        "shuffle": true,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ea9"
        },
        "ts": "2023-12-19T19:30:43Z",
        "ms_played": 236835,
        "master_metadata_track_name": "Intolerance",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Undertow",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "fwdbtn",
        "reason_end": "fwdbtn",
        "shuffle": true,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eab"
        },
        "ts": "2023-12-19T19:41:41Z",
        "ms_played": 362009,
        "master_metadata_track_name": "Undertow",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Undertow",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eac"
        },
        "ts": "2023-12-19T19:44:59Z",
        "ms_played": 197733,
        "master_metadata_track_name": "Part Of Me",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Opiate",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ead"
        },
        "ts": "2023-12-19T19:49:52Z",
        "ms_played": 291689,
        "master_metadata_track_name": "Crawl Away",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Undertow",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "fwdbtn",
        "shuffle": true,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eae"
        },
        "ts": "2023-12-19T19:50:07Z",
        "ms_played": 14769,
        "master_metadata_track_name": "Hush",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Opiate",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "fwdbtn",
        "reason_end": "fwdbtn",
        "shuffle": true,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eaf"
        },
        "ts": "2023-12-19T19:59:05Z",
        "ms_played": 538109,
        "master_metadata_track_name": "Opiate²",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Opiate²",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "fwdbtn",
        "reason_end": "fwdbtn",
        "shuffle": true,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eb0"
        },
        "ts": "2023-12-19T20:02:52Z",
        "ms_played": 227173,
        "master_metadata_track_name": "Sweat",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Opiate",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "fwdbtn",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eb1"
        },
        "ts": "2023-12-19T20:09:00Z",
        "ms_played": 367133,
        "master_metadata_track_name": "H.",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Ænima",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eb2"
        },
        "ts": "2023-12-19T20:31:58Z",
        "ms_played": 365585,
        "master_metadata_track_name": "Descending",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Fear Inoculum",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "logout",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eb3"
        },
        "ts": "2023-12-19T20:50:41Z",
        "ms_played": 404491,
        "master_metadata_track_name": "Descending",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Fear Inoculum",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "appload",
        "reason_end": "trackdone",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eb4"
        },
        "ts": "2023-12-19T21:03:17Z",
        "ms_played": 120107,
        "master_metadata_track_name": "Fear Inoculum",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Fear Inoculum",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "logout",
        "shuffle": true,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eb5"
        },
        "ts": "2023-12-19T22:08:28Z",
        "ms_played": 10193,
        "master_metadata_track_name": "Fear Inoculum",
        "master_metadata_album_artist_name": "TOOL",
        "master_metadata_album_album_name": "Fear Inoculum",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "endplay",
        "shuffle": true,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eb6"
        },
        "ts": "2023-12-19T22:08:57Z",
        "ms_played": 28072,
        "master_metadata_track_name": "family ties (with Kendrick Lamar)",
        "master_metadata_album_artist_name": "Baby Keem",
        "master_metadata_album_album_name": "The Melodic Blue",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "logout",
        "shuffle": false,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eb7"
        },
        "ts": "2023-12-19T22:12:43Z",
        "ms_played": 219660,
        "master_metadata_track_name": "family ties (with Kendrick Lamar)",
        "master_metadata_album_artist_name": "Baby Keem",
        "master_metadata_album_album_name": "The Melodic Blue",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "appload",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eb8"
        },
        "ts": "2023-12-19T22:12:43Z",
        "ms_played": 255,
        "master_metadata_track_name": "Alright",
        "master_metadata_album_artist_name": "Kendrick Lamar",
        "master_metadata_album_album_name": "To Pimp A Butterfly",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eb9"
        },
        "ts": "2023-12-19T22:15:31Z",
        "ms_played": 166928,
        "master_metadata_track_name": "u",
        "master_metadata_album_artist_name": "Kendrick Lamar",
        "master_metadata_album_album_name": "To Pimp A Butterfly",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "unexpected-exit-while-paused",
        "shuffle": false,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eba"
        },
        "ts": "2023-12-19T22:19:38Z",
        "ms_played": 11772,
        "master_metadata_track_name": "u",
        "master_metadata_album_artist_name": "Kendrick Lamar",
        "master_metadata_album_album_name": "To Pimp A Butterfly",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "endplay",
        "shuffle": true,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ebb"
        },
        "ts": "2023-12-19T22:19:39Z",
        "ms_played": 928,
        "master_metadata_track_name": "N95",
        "master_metadata_album_artist_name": "Kendrick Lamar",
        "master_metadata_album_album_name": "Mr. Morale & The Big Steppers",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ebc"
        },
        "ts": "2023-12-19T22:24:40Z",
        "ms_played": 251173,
        "master_metadata_track_name": "family ties (with Kendrick Lamar)",
        "master_metadata_album_artist_name": "Baby Keem",
        "master_metadata_album_album_name": "family ties (with Kendrick Lamar)",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "trackdone",
        "shuffle": false,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ebd"
        },
        "ts": "2023-12-19T22:27:55Z",
        "ms_played": 192141,
        "master_metadata_track_name": "N95",
        "master_metadata_album_artist_name": "Kendrick Lamar",
        "master_metadata_album_album_name": "Mr. Morale & The Big Steppers",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "trackdone",
        "shuffle": false,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ebe"
        },
        "ts": "2023-12-19T22:31:55Z",
        "ms_played": 241307,
        "master_metadata_track_name": "Walkin",
        "master_metadata_album_artist_name": "Denzel Curry",
        "master_metadata_album_album_name": "Walkin",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "trackdone",
        "shuffle": false,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ebf"
        },
        "ts": "2023-12-19T22:31:59Z",
        "ms_played": 185,
        "master_metadata_track_name": "DOGTOOTH",
        "master_metadata_album_artist_name": "Tyler, The Creator",
        "master_metadata_album_album_name": "CALL ME IF YOU GET LOST: The Estate Sale",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ec0"
        },
        "ts": "2023-12-19T22:31:59Z",
        "ms_played": 4699,
        "master_metadata_track_name": "Shook Ones, Pt. II",
        "master_metadata_album_artist_name": "Mobb Deep",
        "master_metadata_album_album_name": "The Infamous",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ec1"
        },
        "ts": "2023-12-19T22:35:42Z",
        "ms_played": 223480,
        "master_metadata_track_name": "Die Hard",
        "master_metadata_album_artist_name": "Kendrick Lamar",
        "master_metadata_album_album_name": "Mr. Morale & The Big Steppers",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "trackdone",
        "shuffle": false,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ec2"
        },
        "ts": "2023-12-19T22:36:05Z",
        "ms_played": 22320,
        "master_metadata_track_name": "DOGTOOTH",
        "master_metadata_album_artist_name": "Tyler, The Creator",
        "master_metadata_album_album_name": "CALL ME IF YOU GET LOST: The Estate Sale",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ec3"
        },
        "ts": "2023-12-19T22:39:55Z",
        "ms_played": 230827,
        "master_metadata_track_name": "Paint The Town Red",
        "master_metadata_album_artist_name": "Doja Cat",
        "master_metadata_album_album_name": "Paint The Town Red",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "trackdone",
        "shuffle": false,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ec4"
        },
        "ts": "2023-12-19T22:41:03Z",
        "ms_played": 68755,
        "master_metadata_track_name": "Bed-Stuy is Burning",
        "master_metadata_album_artist_name": "Skyzoo",
        "master_metadata_album_album_name": "Bed-Stuy is Burning",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ec5"
        },
        "ts": "2023-12-19T22:44:03Z",
        "ms_played": 178584,
        "master_metadata_track_name": "Don't",
        "master_metadata_album_artist_name": "Bryson Tiller",
        "master_metadata_album_album_name": "T R A P S O U L",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ec6"
        },
        "ts": "2023-12-19T22:48:52Z",
        "ms_played": 237284,
        "master_metadata_track_name": "Often",
        "master_metadata_album_artist_name": "The Weeknd",
        "master_metadata_album_album_name": "Beauty Behind The Madness",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ec7"
        },
        "ts": "2023-12-19T22:52:18Z",
        "ms_played": 205194,
        "master_metadata_track_name": "In For It",
        "master_metadata_album_artist_name": "Tory Lanez",
        "master_metadata_album_album_name": "In For It",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ec8"
        },
        "ts": "2023-12-19T22:56:24Z",
        "ms_played": 246586,
        "master_metadata_track_name": "Colors",
        "master_metadata_album_artist_name": "Black Pumas",
        "master_metadata_album_album_name": "Black Pumas",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "trackdone",
        "shuffle": false,
        "skipped": false
      },
      {
        "_id": {
          "$oid": "65b030724146088749471ec9"
        },
        "ts": "2023-12-19T22:58:16Z",
        "ms_played": 110059,
        "master_metadata_track_name": "Teenage Fever",
        "master_metadata_album_artist_name": "Drake",
        "master_metadata_album_album_name": "More Life",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "trackdone",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
      {
        "_id": {
          "$oid": "65b030724146088749471eca"
        },
        "ts": "2023-12-19T22:58:55Z",
        "ms_played": 40077,
        "master_metadata_track_name": "Heartless",
        "master_metadata_album_artist_name": "The Weeknd",
        "master_metadata_album_album_name": "After Hours",
        "episode_name": null,
        "episode_show_name": null,
        "reason_start": "clickrow",
        "reason_end": "endplay",
        "shuffle": false,
        "skipped": true
      },
]

//  function top20BestSongsThisArtist(artistName) {
//     const top20BestSongsThisArtist = history
//       .filter((song) => song.master_metadata_album_artist_name === artistName)
//       .sort((a, b) => b.ms_played - a.ms_played)
//       .slice(0, 20);
//     return top20BestSongsThisArtist;
//   }


// // +++++++++++++++++++++++++++++



//  function top100Artists() {
//   const artistPlayCount = {};

//   for (let song of history) {
//     if (song.master_metadata_track_name !== null) {
//       const artistName = song.master_metadata_album_artist_name;

//       if (artistName in artistPlayCount) {
//         artistPlayCount[artistName]++;
//       } else {
//         artistPlayCount[artistName] = 1;
//       }
//     }
//   }

//   const artistPlayCountArray = Object.entries(artistPlayCount);

//   artistPlayCountArray.sort((a, b) => b[1] - a[1]);

//   const top100Artists = artistPlayCountArray.slice(0, 100);
//   return top100Artists;
// }

//    function thePositionOfTheArtistTop100( artistName ){
//     const   artists = top100Artists();
//     const position = artists.findIndex((artist) => artist[0] === artistName);
//     return position + 1
//   }

// // ++++++=====================


//  function searchArtistDetails(artistName) {
//   const result = history.filter((song) => {
//       const artist = song.master_metadata_album_artist_name;
//       return artist && artist.toLowerCase().includes(artistName.toLowerCase());
//   });
//   return [...new Set(result.map((e) => e.master_metadata_album_artist_name)) ];
// }


// function AllArthistList() {
//   const artistList = [];
//   for (let song of history) {
//     if (song.master_metadata_album_artist_name !== null) {
//       artistList.push(song.master_metadata_album_artist_name);
//     }
//   }
//   return [ ...new Set(artistList) ];
// }



//  //============================================= not checked
//  function groupArtists() {
//   const artistPlayCount = {};

//   for (let song of history) {
//     if (song.master_metadata_track_name !== null) {
//       const artistName = song.master_metadata_album_artist_name;

//       if (artistName in artistPlayCount) {
//         artistPlayCount[artistName]++;
//       } else {
//         artistPlayCount[artistName] = 1;
//       }
//     }
//   }

//   const artistPlayCountArray = Object.entries(artistPlayCount);

//   artistPlayCountArray.sort((a, b) => b[1] - a[1]);

//   return artistPlayCount;
// }

//  function calculateArtistPercentages() {
//   const bla = groupArtists();
//   // Calculate the total number of reproductions
//   const totalPlays = history.length;

//   // Object to store the percentages of each artist
//   const artistPercentages = [];

//   // Calculate the percentage of reproductions for each artist
//   for (let [artist, plays] of Object.entries(bla)) {
//     const percentage = (plays / totalPlays) * 100;
//     artistPercentages.push({ artist, percentage: percentage.toFixed(2) }); //Round to two decimal places
//   }


//   return artistPercentages.sort((a, b) => b.percentage - a.percentage);
// }


// function searchForArtistPercentage(artistName) {
//   const result = calculateArtistPercentages().find((artist) => artist.artist.toLowerCase() === artistName.toLowerCase());
//   return result ? result.percentage : 0;
// }
// console.log(searchForArtistPercentage("TOOL"));
// console.log(calculateArtistPercentages(history));




//  function top100SongsThisArtistAllTime(artistName) {
//   const top20BestSongsThisArtist = history
//     .filter((song) => song.master_metadata_album_artist_name === artistName)
//     .sort((a, b) => b.ms_played - a.ms_played)

//   const uniqueArtistPercentages = new Set();
//   const uniqueArtistPercentagesArray = [];

//   top20BestSongsThisArtist.forEach(song => {
//     if (!uniqueArtistPercentages.has(song.master_metadata_track_name)) {
//       uniqueArtistPercentages.add(song.master_metadata_track_name);
//       uniqueArtistPercentagesArray.push(song);
//     }
//   });
//   return uniqueArtistPercentagesArray.slice(0, 100);
// }
//  function top100SongsThisArtistArgs(histories, artistName) {
//   if (!Array.isArray(histories)) {
//     console.error("histories is not an array");
//     return [];
//   }

//   const top20BestSongsThisArtist = histories
//     .filter((song) => song.master_metadata_album_artist_name.toLowerCase() === artistName.toLowerCase())
//     .sort((a, b) => b.ms_played - a.ms_played);

//   const uniqueArtistPercentages = new Set();
//   const uniqueArtistPercentagesArray = [];

//   top20BestSongsThisArtist.forEach(song => {
//     if (!uniqueArtistPercentages.has(song.master_metadata_track_name)) {
//       uniqueArtistPercentages.add(song.master_metadata_track_name);
//       uniqueArtistPercentagesArray.push(song);
//     }
//   });
//   return uniqueArtistPercentagesArray.slice(0, 100);
// }

//  function top100AlbumFromPeriod(periodInDays, artistName) {

//   const lastListenedDate = new Date(history[history.length - 1].ts);

//   const daysBefore = new Date(lastListenedDate);
//   daysBefore.setDate(lastListenedDate.getDate() - periodInDays); 

//   const filteredHistory = history.filter(
//     (song) =>
//       new Date(song.ts) >= daysBefore && new Date(song.ts) <= lastListenedDate
//   );
//   return top100SongsThisArtistArgs(filteredHistory, artistName);
// }

// console.log(" TOOL ", top100AlbumFromPeriod(180, "TOOL"));


//  function toFindWhatSeasonOfTheYearTheUserListenToSongs(artistName) {
//   const timeAndSeason = [];

//   // Define the starting and ending dates for each season
//   const seasons = [
//     { name: "spring", startMonth: 3, startDate: 21, endMonth: 6, endDate: 20 },
//     { name: "summer", startMonth: 6, startDate: 21, endMonth: 9, endDate: 20 },
//     { name: "autumn", startMonth: 9, startDate: 21, endMonth: 12, endDate: 20 },
//     { name: "winter", startMonth: 12, startDate: 21, endMonth: 3, endDate: 20 }
//   ];

//   // Loop through each season
//   seasons.forEach(({ name, startMonth, startDate, endMonth, endDate }) => {
//     // Filter songs that belong to the current season and artist
//     const songsInSeason = history.filter(song => {
//       const songDate = new Date(song.ts);
//       const songMonth = songDate.getMonth() + 1; // Months are zero-based, so we add 1
//       const songDay = songDate.getDate();
//       return (
//         (songMonth === startMonth && songDay >= startDate) ||
//         (songMonth > startMonth && songMonth < endMonth) ||
//         (songMonth === endMonth && songDay <= endDate)
//       ) && song.master_metadata_album_artist_name === artistName;
//     });

//     // Calculate total listening time for songs in the current season
//     const totalMsPlayed = songsInSeason.reduce((total, song) => total + song.ms_played, 0);

//     // Store the total listening time for the current season
//     timeAndSeason.push({ season: name, time: totalMsPlayed });
//   });

//   let maxTime = 0;
//   let seasonsss = null;

//   timeAndSeason.forEach(({ season, time }) => {
//     if (time > maxTime) {
//       maxTime = time;
//       seasonsss = season;
//     }
//   });
//   return seasonsss;
// }

// // Example usage:
// const artistName = "TOOL"; // Change this to the artist you're interested in
// const mostListenedSeason = toFindWhatSeasonOfTheYearTheUserListenToSongs(artistName);
// console.log(`The user spends the most time listening to ${artistName} songs in ${mostListenedSeason}.`);


// function findNumberOfSongsThisArtistArgs(artistName) {
 
//  return  history.filter((song) => song.master_metadata_album_artist_name === artistName).length
// }


// console.log(findNumberOfSongsThisArtistArgs("TOOL"));


// function totalListeningOfThisArtistSongs(artistName) {

//   const miliseconds =  history.filter((song) => song.master_metadata_album_artist_name === artistName).reduce((total, song) => total + song.ms_played, 0)
//   const hours = Math.floor(miliseconds / 1000 / 60 / 60)
//   return hours
// }

// console.log(totalListeningOfThisArtistSongs("TOOL"));


// function howManyDifferentSongsOfThisArtistIListent(artistName) {

//   const songs = history.filter((song) => song.master_metadata_album_artist_name === artistName);
//   return [...new Set(songs.map((e) => e.master_metadata_track_name))].length
// }
// console.log(howManyDifferentSongsOfThisArtistIListent("TOOL"));

 function top100Artists() {
  const artistPlayCount = {};

  for (let song of history) {
    if (song.master_metadata_track_name !== null) {
      const artistName = song.master_metadata_album_artist_name;

      if (artistName in artistPlayCount) {
        artistPlayCount[artistName]++;
      } else {
        artistPlayCount[artistName] = 1;
      }
    }
  }

  const artistPlayCountArray = Object.entries(artistPlayCount);

  artistPlayCountArray.sort((a, b) => b[1] - a[1]);

  const top100Artists = artistPlayCountArray.slice(0, 100);
  return top100Artists;
}


function toFindThePositionOfTheArtistTop100(artistName) {

  const artists = top100Artists();
  const position = artists.findIndex((artist) => artist[0] === artistName);
  return position + 1


}

console.log(toFindThePositionOfTheArtistTop100("TOOL"));